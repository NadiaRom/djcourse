---
title: "Map"
output: html_notebook
---
Намалюємо інтерактивну карту.  
Перше — треба дані, з координатами широти і довготи. Хороша перша думка  OpenStreetMap. https://overpass-turbo.eu/ (використовуйте "візард" для запитів, а запит уточніть у вікі для ОСМ).  

Пакети для роботи з картами:  
```{r}
install.packages("leaflet")
install.packages("geojsonR")
# install.packages("tidyverse")
```

Як виправити баг у Qgis:
Меню Settings => Options => Processing => General => Перемкнути "Invalid features filtering" на "Do not filter"

Де дістати дані OSM? https://overpass-turbo.eu/ . Або https://wiki.openstreetmap.org/wiki/QGIS — завантажити великий файл OSM для певної країни, і самим намалювати потрібне: межі адміністративних одиниць певного рівня, дороги, водойми, будинки...
Ще варіант де отримати гарну підложку — Mapbox. Мінус — обмеження безкоштовного використання, плюс — не треба коду.
Де малювати інтерактивні карти? — Leaflet, для R або JavaScript

```{r}
library(tidyverse)
library(leaflet)
library(geojsonR)
```

```{r}
lviv_schools <- FROM_GeoJson("schools_points.geojson")
```

```{r}

leaflet() %>% 
  setView(lng = 24, lat = 49.8, zoom = 6) %>%
  addTiles() %>%
  addGeoJSON(lviv_schools, weight = 1, color = "#444444", fill = FALSE)
  
```


